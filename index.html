<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Love+Ya+Like+A+Sister&family=Lovers+Quarrel&display=swap"
      rel="stylesheet"
    />
    <!-- <link rel="stylesheet" href="style.css" /> -->
    <title>#OA_IN_LOVE</title>
    <style>
      /* Your CSS styles here */
      #root {
        font-family: "Love Ya Like A Sister", cursive;
        max-width: 100%;
        height: 100vh;
        overflow: hidden;
        margin: 0 auto;
        padding: 2rem;
        text-align: center;
        background-color: #de9dee;
      }

      body {
        margin: 0;
      }

      .valentine-container {
        background-color: linear-gradient(120deg, #fccb90 0%, #d57eeb 100%);
      }
      .flower {
        height: 20%;
        width: 20%;
        border-radius: 60%;
      }

      .kiss {
        height: 30%;
        width: 30%;
        border-radius: 60%;
      }

      .both-Button {
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        margin: 10px;
        gap: 10px;
      }
      .NoButton {
        border: none;
        padding: 5px;
        border-radius: 7px;
        font-size: 15px;
        color: rgb(219, 214, 214);
        background-color: rgb(95, 0, 150);
      }
      .NoButton:hover {
        background-color: rgb(253, 5, 100);
      }
      .yesButton {
        border: none;
        border-radius: 7px;
        font-size: 50px;
      }
      .yesButton:hover {
        background-color: #e2e73a;
      }
      .text {
        font-family: "Lovers Quarrel", cursive;
        font-size: 60px;
        color: yellow;
        font-weight: 500;
        margin: 10px;
      }

      * {
        margin: 0;
        padding: 0;
      }

      h1 {
        font-family: "Love Ya Like A Sister", cursive;
      }

      body {
        background: #fee2e9;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .card_container {
        font-size: 1vmin;
        font-family: "Pangolin", cursive;
        position: relative;
        top: 0vmin;
      }

      .envelope {
        position: relative;
        background: #f980a1;
        height: 30vmin;
        width: 47.9vmin;
      }

      .card {
        position: absolute;
        background: white;
        height: 25vmin;
        width: 43vmin;

        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        left: 2.5vmin;
        top: 0vmin;

        animation: slide-rev 0.2s ease-out;
      }

      .message {
        position: absolute;
        top: 5vmin;
      }

      .cover {
        position: absolute;
        height: 0;
        width: 0;

        border-bottom: 15vmin solid #fba7bd;
        border-left: 24vmin solid transparent;
        border-right: 24vmin solid transparent;
        top: 15vmin;
        z-index: 3;
      }

      .cover::after {
        position: absolute;
        content: "";
        border-left: 24.5vmin solid #fcbbcc;
        border-bottom: 15vmin solid transparent;
        border-top: 15vmin solid transparent;
        top: -15vmin;
        left: -24vmin;
      }

      .cover::before {
        position: absolute;
        content: "";
        border-right: 24.5vmin solid #fcbbcc;
        border-bottom: 15vmin solid transparent;
        border-top: 15vmin solid transparent;
        top: -15vmin;
        left: -0.5vmin;
      }

      .lid {
        position: absolute;
        height: 0;
        width: 0;

        border-top: 15vmin solid #f980a1;
        border-left: 24vmin solid transparent;
        border-right: 24vmin solid transparent;

        top: 0;
        transform-origin: top;
        animation: open-rev 2s;
      }

      .card_container:hover .lid {
        animation: open 0.5s;
        animation-fill-mode: forwards;
      }

      .card_container:hover .card {
        animation: slide 0.2s;
        animation-delay: 0.5s;
        animation-fill-mode: forwards;
      }

      .shadow {
        position: relative;
        top: 3vmin;
        border-radius: 50%;
        opacity: 0.7;
        height: 2vmin;
        width: 48vmin;
        background: #e8c5d0;
      }

      .heart {
        position: relative;
        width: 5vmin;
        height: 4vmin;
        top: 7vmin;
        left: -1vmin;
      }
      .heart:before,
      .heart:after {
        position: absolute;
        content: "";
        left: 2.5vmin;
        top: 7vim;
        width: 2.5vmin;
        height: 4vmin;
        background: #f40b4a;
        border-radius: 2.5vmin 2.5vmin 0 0;
        transform: rotate(-45deg);
        transform-origin: 0 100%;
      }
      .heart:after {
        left: 0;
        transform: rotate(45deg);
        transform-origin: 100% 100%;
      }

      @keyframes open {
        100% {
          transform: rotatex(180deg);
        }
      }

      @keyframes slide {
        100% {
          transform: translatey(-15vmin);
          z-index: 2;
        }
      }

      @keyframes open-rev {
        from {
          transform: rotatex(-180deg);
        }
      }

      @keyframes slide-rev {
        from {
          transform: translatey(-15vmin);
        }
      }
    </style>
  </head>
  <body>
    <div id="root"></div>
    <audio id="song" src="./song.mp3"></audio>

    <script>
      const phrases = [
        "Are you sure?",
        "Really Sure😢",
        "I'll be very sad😕",
        "You're the sunshine of my life 💐",
        "Your smile is my favorite 🥰",
        "You make my heart skip a beat 💓",
        "Pookie Please🥺",
        "Don't do this to me🫤",
        "I'm gonna cry...😭",
        "You are breaking my heart😭💔",
        "My world revolves around you 🌍💖",
        "Without you, I'm lost 😭",
        "You’re my everything, don’t say no 🥹",
        "Please don’t break my tiny heart 💔🥺",
        "You're my favorite person in the universe ✨💫",
        "I’ll buy you chocolates 🍫 if you say yes!",
        "I can't imagine life without you 😢",
        "Saying no should be illegal 🚨😤",
        "Pretty please with a cherry on top? 🍒🥺",
        "You’re too cute to say no 😘",
      ];

      let noCount = 0;
      let yesPressed = false;
      let yesButtonSize = 16;

      function handleYesClick() {
        yesPressed = true;
        render();
        const card = document.querySelector(".card_container");
        const song = document.getElementById("song");

        card.addEventListener("mouseover", () => {
          song.play();
        });

        card.addEventListener("mouseleave", () => {
          song.pause();
          song.currentTime = 0; // Restart the song when hovered again
        });
      }

      function handleNoClick() {
        noCount += 1;
        yesButtonSize += 20;
        render();
      }

      function getRandomNumber() {
        let min = 0;
        let max = phrases.length;
        const now = Date.now(); // Get current timestamp in milliseconds
        const nanoTime = performance.now(); // More precise time-based entropy

        // Combine and hash the values to create more randomness
        const seed = (now * nanoTime) % 1_000_000_007; // Large prime number
        const randomFraction = (seed / 1_000_000_007) % 1; // Normalize to [0,1)

        return Math.floor(randomFraction * (max - min)) + min;
      }

      function getNoButtonText() {
        if (noCount === 0) return "No 🙉";
        return phrases[getRandomNumber()];
      }

      function render() {
        const root = document.getElementById("root");

        if (yesPressed) {
          root.innerHTML = `
                    <img src="https://media.tenor.com/gUiu1zyxfzYAAAAi/bear-kiss-bear-kisses.gif" alt="bear-Kissing" />
                    <div class='text'>Yayyy !!!</div>
                    <br/>
                    <br/>
                    <br/>
                    <div class="card_container">
                      <div class="envelope"></div>
                      <div class="card">
                        <h1 class="message">Vasson bahr dil ho gaya<br/>Koi chalda na chara hai<br/>Tere bina na guzara hai<br/><br/>I Love You!</h1>
                        <div class="heart"></div>
                      </div>
                      <div class="cover"></div>
                      <div class="lid"></div>
                      <div class="shadow"></div>
                    </div>

                    <br/>
                    <br/>
                    <br/>
                    <br/>
                    <br/>
                    <a href="./teddy_bear/index.html">Teddy Bear</a>
                    <a href="./chocolate/index.html">Chocolate</a>
                `;
        } else {
          root.innerHTML = `
                    <img class='kiss' src="https://media1.tenor.com/m/al4a1pG1f8YAAAAC/jump-bear.gif" alt="bear with heart" />
                    <div class='text'>Dear Onshi, Will you be my Valentine? 🌹</div>
                    <div class='both-Button'>
                        <button class='yesButton' style="padding: 5px;font-size: ${yesButtonSize}px; background-color: rgb(248, 229, 89)" onclick="handleYesClick()">
                            Yes 🙈
                        </button>
                        <button class='NoButton' onclick="handleNoClick()">
                            ${getNoButtonText()}
                        </button>
                    </div>
                `;
        }
      }

      render();
    </script>
  </body>
</html>
